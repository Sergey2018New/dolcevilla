---
import Icon from '@components/modules/Icon.astro';
import Input from '@components/modules/Input.astro';
import Button from '@components/modules/Button.astro';
import ButtonIcon from '@components/modules/ButtonIcon.astro';
import SwitchBlock from '@components/modules/SwitchBlock.astro';
import Dropdown from '@components/modules/Dropdown.astro';
import Menu from '@components/header/Menu.astro';

interface Props {
    class?: string;
    type?: 'primary' | 'second';
    [x: string]: any;
}

const {
	class: className,
	type,
	...rest
} = Astro.props;

const mainMenu = ['Курорты', 'Шале', 'Коллекции', 'Отели']
---
<header
	class:list={[
		'header',
		type ? `header_${type}` : '',
		className,
		'js-header'
	]}
	{...rest}
>
	<div class="header__inner">
		<div class="header__container container">
			<div class="header__menu-wrapper">
				<Menu class="header__menu"></Menu>
				<nav class="header__nav">
					<ul class="header__main-menu">
						{mainMenu.map((item) => (
							<li>
								<a href="" class="header__main-menu-link">{item}</a>
							</li>
						))}
					</ul>
				</nav>
			</div>
			<div class="header__logo-wrapper">
				<a href="/" class="header__logo logo" aria-label="Dolce Villa">
					<div class="header__logo-box logo__box">
						<svg class="header__logo-image logo__image" width="260" height="40" viewBox="0 0 260 40" xmlns="http://www.w3.org/2000/svg">
							<g>
								<path d="M56.7412 28.8398L58.1536 25.4705V12.6648L56.7412 9.30854V9.10205H65.1361C67.6014 9.10205 69.7391 9.45931 71.546 10.1706C73.3529 10.8818 74.7557 11.9798 75.7514 13.4613C76.7471 14.946 77.2433 16.8077 77.2433 19.0562C77.2433 21.3046 76.7534 23.1696 75.7705 24.6576C74.7875 26.1456 73.3974 27.2502 71.5937 27.9713C69.79 28.6923 67.6396 29.0529 65.1361 29.0529H56.7412V28.8464V28.8398ZM65.6196 28.1483C66.9398 28.1483 67.9609 27.8369 68.6862 27.2141C69.4115 26.5914 69.9205 25.6409 70.2131 24.3659C70.5058 23.0909 70.6521 21.38 70.6521 19.2364C70.6521 17.0929 70.4962 15.2443 70.1813 13.9136C69.8664 12.5829 69.3415 11.5996 68.6067 10.9605C67.8718 10.3213 66.8539 10.0034 65.5528 10.0034H64.3695V28.1483H65.6196Z"/>
								<path d="M84.8716 28.073C83.316 27.1979 82.1072 25.9852 81.2451 24.4283C80.3831 22.8714 79.9536 21.0982 79.9536 19.112C79.9536 17.1258 80.3831 15.3493 81.2451 13.7892C82.1072 12.229 83.316 11.0065 84.8716 10.1215C86.4271 9.23984 88.2117 8.79736 90.219 8.79736C92.2263 8.79736 94.0204 9.23656 95.595 10.115C97.1697 10.9934 98.3944 12.2094 99.2755 13.7662C100.154 15.3231 100.593 17.0864 100.593 19.053C100.593 21.0196 100.16 22.8452 99.2946 24.4119C98.4294 25.9786 97.211 27.1979 95.6364 28.073C94.0617 28.9449 92.2581 29.3841 90.2222 29.3841C88.1863 29.3841 86.4303 28.9481 84.8748 28.073H84.8716ZM93.0915 26.1261C93.6864 24.5561 93.9854 22.2159 93.9854 19.112C93.9854 16.0081 93.6927 13.6286 93.1042 12.0553C92.5157 10.4853 91.555 9.69871 90.219 9.69871C88.8829 9.69871 87.9795 10.4853 87.4069 12.0619C86.8343 13.6384 86.5448 15.9884 86.5448 19.112C86.5448 22.2356 86.8343 24.5561 87.4133 26.1261C87.9922 27.6961 88.9275 28.4827 90.219 28.4827C91.5105 28.4827 92.4935 27.6961 93.0915 26.1261Z"/>
								<path d="M102.979 28.8398L104.391 25.4705V12.6648L102.979 9.29543V9.10205H112.29V9.29543L110.607 12.6648V28.1483H113.985L118.922 23.186H119.056L118.423 29.0496H102.979V28.8431V28.8398Z"/>
								<path d="M126.563 28.1056C124.924 27.2567 123.643 26.0735 122.714 24.556C121.785 23.0417 121.32 21.3112 121.32 19.3708C121.32 17.4305 121.766 15.5458 122.653 13.9365C123.541 12.3272 124.8 11.0686 126.432 10.1607C128.064 9.24953 129.947 8.79395 132.082 8.79395C134.216 8.79395 136.446 9.07254 138.823 9.62646L139.252 15.808H138.931C138.635 14.8116 138.174 13.8415 137.553 12.9041C136.93 11.9667 136.186 11.1964 135.32 10.5966C134.455 9.99683 133.533 9.69529 132.556 9.69529C131.004 9.69529 129.842 10.5344 129.073 12.2125C128.3 13.8906 127.915 16.2407 127.915 19.2626C127.915 21.2128 128.099 22.8779 128.471 24.261C128.844 25.6442 129.378 26.693 130.071 27.4075C130.768 28.1253 131.595 28.4826 132.553 28.4826C133.51 28.4826 134.439 28.181 135.304 27.5812C136.17 26.9814 136.917 26.2112 137.544 25.2738C138.171 24.3364 138.635 23.3662 138.931 22.3698H139.252L138.823 28.5514C137.576 28.8366 136.453 29.0496 135.454 29.1807C134.455 29.3151 133.329 29.3806 132.085 29.3806C130.04 29.3806 128.198 28.9545 126.563 28.1056Z"/>
								<path d="M142.465 28.8398L143.878 25.4705V12.6648L142.465 9.30854V9.10205H158.355V14.9657H158.193L153.914 10.0034H150.094V18.322H152.219L155.26 16.0342H155.53V21.9536H155.26L152.219 19.2233H150.094V28.1515H154.534L159.471 23.1892H159.605L158.972 29.0529H142.465V28.8464V28.8398Z"/>
								<path d="M171.213 12.6091L169.167 9.32493V9.10205H180.104V9.32493L177.95 12.6779L181.676 23.4777L185.779 12.6517L183.587 9.32493V9.10205H189.075V9.32493L186.721 12.6517L180.425 29.0496H177.438L171.21 12.6091H171.213Z"/>
								<path d="M191.263 28.8398L192.676 25.4868V12.6648L191.263 9.30854V9.10205H200.291V9.30854L198.891 12.6648V25.4868L200.291 28.8398V29.0463H191.263V28.8398Z"/>
								<path d="M203.161 28.8398L204.573 25.4705V12.6648L203.161 9.29543V9.10205H212.472V9.29543L210.789 12.6648V28.1483H214.167L219.104 23.186H219.238L218.605 29.0496H203.161V28.8431V28.8398Z"/>
								<path d="M221.585 28.8398L222.998 25.4705V12.6648L221.585 9.29543V9.10205H230.897V9.29543L229.214 12.6648V28.1483H232.592L237.529 23.186H237.663L237.03 29.0496H221.585V28.8431V28.8398Z"/>
								<path d="M239.66 28.8397L241.989 25.5391L246.751 12.7433L244.881 9.30512V9.09863H251.876L258.038 25.4703L260 28.8397V29.0462H249.372V28.8397L251.376 25.4998L250.543 23.117H243.815L242.94 25.4867L245.428 28.8397V29.0462H239.657V28.8397H239.66ZM250.234 22.2124L247.289 13.7692L244.155 22.2124H250.238H250.234Z"/>
								<path d="M28.2512 3.44149C28.7156 4.02163 28.9001 4.77876 28.7602 5.51622L24.6343 27.2632H26.9469L31.8013 4.49689C32.043 3.35628 33.0419 2.53032 34.1775 2.53032H35.1128V0H24.8029V2.53032H26.3775C27.106 2.53032 27.7899 2.86463 28.2544 3.44477L28.2512 3.44149Z" fill="#D7926D"/>
								<path d="M13.8695 28.6855H9.37149V9.55083H26.5907L27.0711 7.02051H0V9.55083H0.919335C2.25857 9.55083 3.34969 10.675 3.34969 12.0549V26.1749C3.34969 27.558 2.25857 28.6823 0.919335 28.6823H0V31.2126H14.4103L13.8695 28.6823V28.6855ZM6.90933 28.6855H5.32832C5.66552 27.971 5.85639 27.168 5.85639 26.3191V11.9173C5.85639 11.0684 5.66552 10.2653 5.32832 9.55083H6.90933V28.6823V28.6855Z" fill="#D7926D"/>
								<path d="M36.9326 8.56447C35.7238 7.93517 33.9392 7.53203 32.619 7.29932L32.0019 10.2C32.32 10.3344 32.6095 10.4819 32.8767 10.649C34.041 11.3799 34.9349 12.4714 35.5265 13.8939C36.115 15.3131 36.4141 17.0699 36.4141 19.1184C36.4141 21.1669 36.115 22.8975 35.5265 24.3232C34.9317 25.7588 34.041 26.8568 32.8735 27.5845C31.7092 28.3121 30.3032 28.6825 28.6872 28.6825H22.7227L23.2062 31.2128H30.141C32.6826 31.2128 34.9699 30.7015 36.9294 29.6887C38.8858 28.6792 40.4318 27.2436 41.5229 25.4245C42.614 23.6022 43.1675 21.4816 43.1675 19.1184C43.1675 16.7552 42.614 14.6674 41.5229 12.8483C40.4318 11.026 38.889 9.58709 36.9294 8.56447H36.9326ZM39.2802 24.002C38.854 24.7133 38.3323 25.3491 37.7215 25.9063C37.801 25.7392 37.8774 25.5687 37.9474 25.3917C38.6758 23.6218 39.048 21.5143 39.048 19.1184C39.048 16.7225 38.6758 14.5822 37.9442 12.8254C37.8837 12.6812 37.8201 12.5369 37.7565 12.3993C38.3514 12.9499 38.8603 13.5759 39.277 14.2741C40.1073 15.6605 40.5272 17.2895 40.5272 19.1184C40.5272 20.9473 40.1073 22.6123 39.277 23.9988L39.2802 24.002Z" fill="#D7926D"/>
								<path d="M25.7733 36.637C25.3597 36.1093 25.207 35.4243 25.347 34.7622L25.8019 32.635H23.6165L22.9898 35.9356L17.9192 10.9766H15.2312L20.8331 37.286H18.7367C19.1598 36.3256 19.2775 35.244 19.0516 34.1853L14.1019 10.9798H11.5093L16.5831 34.7688C16.7231 35.4308 16.5704 36.1159 16.1568 36.6436C15.7433 37.1713 15.1294 37.4761 14.4709 37.4761H14.1464V40.0064H27.7487V37.4761H27.4593C26.8008 37.4761 26.1868 37.1713 25.7733 36.6436V36.637Z" fill="#D7926D"/>
								<path d="M10.1256 4.49689L10.361 5.60144H12.9535L12.5941 3.91675C12.505 3.49394 12.365 3.09407 12.1837 2.71714H14.6109C14.1814 3.60538 14.0097 4.60177 14.1146 5.60144H16.8885L16.8726 5.52278C16.7327 4.78532 16.914 4.02819 17.3784 3.44477C17.8429 2.86463 18.5268 2.53032 19.2585 2.53032H20.3846V0H6.78223V2.53032H7.75246C8.88493 2.53032 9.88379 3.35955 10.1287 4.49689H10.1256Z" fill="#D7926D"/>
							</g>
						</svg>
					</div>
				</a>
			</div>
			<div class="header__buttons-wrapper">
				<div class="header__buttons header__buttons_desktop">
					<div class="header__search">
						<button type="button" class="header__button header__button_search button js-header-search-open" aria-label="Поиск" title="Поиск">
							<Icon class="header__button-icon" name="search"></Icon>
						</button>
					</div>
					<button type="button" class="header__button header__button_favorites button" aria-label="Избранное" data-modal-open="#modal_favorites" title="Избранное">
						<Icon class="header__button-icon" name="star"></Icon>
					</button>
					<button type="button" class="header__button header__button_compare button" aria-label="Сравнение" data-modal-open="#modal_compare" title="Сравнение">
						<Icon class="header__button-icon" name="scales"></Icon>
					</button>
					<button type="button" class="header__button header__button_messages button" aria-label="Оставить заявку" data-modal-open="#modal_request" title="Оставить заявку">
						<Icon class="header__button-icon" name="message"></Icon>
					</button>
					<SwitchBlock ariaLabel="Сезон" name="season_1" class="header__switch-block js-switch-season" isShort={true} isToggle={true} items={[
						{
							text: 'Зима',
                            value: 'winter',
							icon: 'snowflake',
							isActive: true,
							checked: true,
						},
						{
							text: 'Лето',
                            value: 'summer',
							icon: 'sun'
						}
					]}></SwitchBlock>
					<div class="header__language">
						<Dropdown class="header__language-dropdown" popupClass="header__language-popup" type="menu" buttonTitle="Ру" options={['En', 'Fr']}></Dropdown>
					</div>
				</div>
				<div class="header__buttons header__buttons_mobile" data-da=".js-menu-container-top,767,first">
					<button type="button" class="header__button header__button_favorites button" aria-label="Избранное" data-modal-open="#modal_favorites">
						<Icon class="header__button-icon" name="star"></Icon>
					</button>
                    <button type="button" class="header__button header__button_compare button" aria-label="Сравнение" data-modal-open="#modal_compare" title="Сравнение">
						<Icon class="header__button-icon" name="scales"></Icon>
					</button>
					<button type="button" class="header__button header__button_messages button" aria-label="Открыть модальное окно Оставить заявку" data-modal-open="#modal_request">
						<Icon class="header__button-icon" name="message"></Icon>
					</button>
					<SwitchBlock ariaLabel="Сезон" name="season_2" class="header__switch-block js-switch-season" isToggle={true} isShort={true} items={[
						{
                            text: 'Зима',
                            value: 'winter',
							icon: 'snowflake',
							isActive: true,
							checked: true,
						},
						{
							text: 'Лето',
                            value: 'summer',
							icon: 'sun'
						}
					]}></SwitchBlock>
					<div class="header__language">
						<Dropdown class="header__language-dropdown" popupClass="header__language-popup" type="menu" buttonTitle="Ру" options={['En', 'Fr']}></Dropdown>
					</div>
				</div>
			</div>
		</div>
	</div>
    <div class="header__search-popup js-header-search-popup">
        <form action="" class="header__search-form">
            <Input type="search" class="header__search-input js-header-search-input" data-placeholder="Начните вводить свой запрос" data-placeholder-mobile="Введите запрос"></Input>
            <div class="header__search-buttons">
                <Button type="submit" class="header__search-submit">Найти</Button>
                <ButtonIcon type="button" class="header__search-close js-header-search-close" icon="cross" size="sm" mod="close" title="Закрыть поиск" ariaLabel='Закрыть поиск'></ButtonIcon>
            </div>
        </form>
        <div class="header__search-result js-header-search-result">
            <a href="" class="header__search-result-item">
                <span>Шале Санте</span> в Альпах
            </a>
            <a href="" class="header__search-result-item">
                <span>Шале Санте</span>
            </a>
            <a href="" class="header__search-result-item">
                <span>Шале Санте</span> в Альпах
            </a>
            <a href="" class="header__search-result-item">
                <span>Шале Санте</span> в Краснодаре
            </a>
        </div>
    </div>
</header>
